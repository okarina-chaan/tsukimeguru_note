<section class="min-h-screen bg-base-100 text-base-content py-14 px-4">
  <div class="max-w-4xl mx-auto space-y-10">
    <header class="text-center space-y-3">
      <h1 class="text-4xl font-display tracking-widest">Moon Note一覧</h1>
      <p class="text-base text-base-content/70">月のリズム、自分の軌跡</p>
    </header>

    <div class="space-y-6">
      <% @moon_notes.each do |moon_note| %>
        <article class="card bg-base-200/70 text-base-content rounded-2xl p-6 border border-base-300/40 shadow-lg space-y-5">
          <header class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
            <div class="flex items-center gap-4">
              <div class="text-3xl">
                <%= moon_phase_icon(moon_note.moon_phase) %>
              </div>
              <div>
                <p class="text-xs uppercase tracking-[0.3em] text-base-content/70">Phase</p>
                <h2 class="text-2xl font-serif"><%= moon_phase_name(moon_note.moon_phase) %></h2>
                <time class="text-sm text-base-content/70" datetime="<%= moon_note.date %>">
                  <%= l(moon_note.date, format: :long) %>
                </time>
              </div>
            </div>
            <div class="text-right">
              <p class="text-xs uppercase tracking-[0.3em] text-base-content/70">月齢</p>
              <p class="text-3xl font-serif text-primary"><%= moon_note.moon_age.round(1) %></p>
            </div>
          </header>

          <div class="leading-relaxed whitespace-pre-wrap">
            <%= simple_format(moon_note.content) %>
          </div>

          <div class="flex flex-col sm:flex-row gap-3 justify-end text-sm font-semibold">
            <%= link_to edit_moon_note_path(moon_note),
                      class: "btn btn-sm btn-outline btn-primary" do %>
              編集する
            <% end %>
            <%= link_to moon_note_path(moon_note),
                      data: { turbo_method: :delete, turbo_confirm: "本当にこのMoon Noteを削除しますか？" },
                      class: "btn btn-sm btn-outline btn-error" do %>
              削除する
            <% end %>
          </div>
        </article>
      <% end %>

      <% if @moon_notes.empty? %>
        <div class="text-center text-sm text-base-content/70">
          まだノートがありません。
        </div>
      <% end %>
    </div>
  </div>
</section>
